import{S as Ie,i as he,s as ye,C as n,D as i,o as cr,e as rt,b as v,E as _r,h as I,k as _e,q as ie,a as ot,l as Se,m as de,r as ce,c as at,n as ue,F as U,u as er,G as ba,y as Ke,H as ma,z as Ye,A as je,I as Na,J as ka,K as La,g as ke,d as Le,B as Xe,L as Ia,w as et}from"../chunks/index.6c945e93.js";import{a as st,p as $,i as H,d as x,c as ze,b as or,O as a,W as ha,T as w,R as Sr,e as ya,f as ge,j as ar,g as Ua,h as sr,k as wa,I as tt,l as Ga,m as nr,w as Va,M as dr,n as lr,o as fr,q as pr,r as Er,s as Cr,t as Or,u as Mr,v as Dr,x as Rr,y as Pr,z as Tr,A as Ar,B as br,C as mr,D as Nr,E as kr,F as Lr,G as Ir,H as ir,J as hr,K as yr,L as Ur,N as wr,P as Gr,Q as Vr,S as Hr,U as xr,V as Wr,X as Fr,Y as Br,Z as Kr,_ as Yr,$ as jr,a0 as Xr,a1 as zr,a2 as Jr,a3 as qr,a4 as Qr,a5 as Zr,a6 as vr,a7 as $r,a8 as eo,a9 as to,aa as ro,ab as oo,ac as ao,ad as so,ae as no,af as io,ag as co,ah as uo,ai as go,aj as _o,ak as So,al as lo,am as fo,an as po,ao as Eo,ap as Co,aq as Oo,ar as Mo,as as Do,at as Ro,au as Po,av as To,aw as Ao,ax as bo,ay as mo,az as No,aA as ko,aB as Lo,aC as Io,aD as ho,aE as yo,aF as Uo,aG as wo,aH as Go,aI as Vo,aJ as Ho,aK as tr,aL as xo,aM as Wo,aN as Fo,aO as Bo,aP as Ko,aQ as Yo,aR as jo,aS as Xo,aT as zo,aU as Jo,aV as qo,aW as Qo,aX as Zo,aY as vo,aZ as $o,a_ as ea,a$ as ta,b0 as ra,b1 as oa,b2 as aa,b3 as sa,b4 as na,b5 as ia,b6 as ca,b7 as ua,b8 as ga,b9 as _a,ba as Sa,bb as da,bc as la,bd as rr,be as Ha,bf as fa,bg as pa}from"../chunks/constants.0bc348dc.js";function xa(o,d,r){let t,s;n(o,st,E=>r(11,t=E)),n(o,$,E=>r(12,s=E));let g,_,C,D,O,P=0;async function l(){if(g){console.log("Audio context already initialized: ",g.state);return}g=new AudioContext,g.onstatechange=()=>console.log("Audio Context: state = "+g.state);let E=g.createGain();E.gain.value=1,E.connect(g.destination),t.setSampleRate(g.sampleRate),await g.audioWorklet.addModule("js/audio-processor.js");const A=new AudioWorkletNode(g,"audio-processor",{outputChannelCount:[2],processorOptions:{pointers:[t.leftChannelBuffer(),t.rightChannelBuffer()],buffer:s.HEAPF32.buffer,length:2048}});A.port.onmessage=h=>{t.updateAudio(h.data)},A.connect(E),g.state==="suspended"&&await g.resume(),await T()}async function T(){_||(_=await S("sounds/insert.mp3")),C||(C=await S("sounds/eject.mp3")),D||(D=await S("sounds/step.mp3")),O||(O=await S("sounds/stephd.mp3"))}function m(E,A){R(_,E)}function f(E,A){R(C,E)}function M(E,A){R(D,E)}function N(E,A){R(O,E)}async function R(E,A,h){if(E==null||P>=3)return;const y=g.createGain();y.gain.value=.004*A,y.connect(g.destination);const k=g.createBufferSource();k.buffer=E,k.addEventListener("ended",()=>{P--}),k.connect(y),k.start(),P++}async function S(E){console.log("load_sound: url = "+E);let h=await(await fetch(E)).arrayBuffer();return await g.decodeAudioData(h)}return[l,m,f,M,N]}class Wa extends Ie{constructor(d){super(),he(this,d,xa,null,ye,{setup:0,playInsertSound:1,playEjectSound:2,playStepSound:3,playClickSound:4})}get setup(){return this.$$.ctx[0]}get playInsertSound(){return this.$$.ctx[1]}get playEjectSound(){return this.$$.ctx[2]}get playStepSound(){return this.$$.ctx[3]}get playClickSound(){return this.$$.ctx[4]}}function Fa(o,d,r){let t,s,g,_,C,D;n(o,$,u=>r(31,t=u)),n(o,st,u=>r(32,s=u)),n(o,H,u=>r(33,g=u)),n(o,x,u=>r(34,_=u)),n(o,ze,u=>r(35,C=u)),n(o,or,u=>r(24,D=u));let O=[{opt:a.WARP_MODE,default:[ha.auto].toString()},{opt:a.THEME,default:w.default.toString()},{opt:a.CANVAS_BORDER,default:"0"},{opt:a.SHAKING,default:"1"}],P=[{opt:a.CPU_REVISION,default:"0"},{opt:a.AGNUS_REVISION,default:"0"},{opt:a.DENISE_REVISION,default:"0"},{opt:a.RTC_MODEL,default:"0"},{opt:a.CHIP_RAM,default:"512"},{opt:a.SLOW_RAM,default:"512"},{opt:a.FAST_RAM,default:"0"},{opt:a.BANK_MAP,default:"0"},{opt:a.INIT_PATTERN,default:"0"},{opt:a.UNMAPPED,default:"0"},{opt:a.SLOW_RAM_MIRROR,default:"1"},{opt:a.SLOW_RAM_DELAY,default:"1"},{opt:a.DF0,default:"1"},{opt:a.DF1,default:"1"},{opt:a.DF2,default:"0"},{opt:a.DF3,default:"0"},{opt:a.HD0,default:"1"},{opt:a.HD1,default:"0"},{opt:a.HD2,default:"0"},{opt:a.HD3,default:"0"}],l=[{opt:a.BLITTER_ACCURACY,default:"2"},{opt:a.TODBUG,default:"1"},{opt:a.PTR_DROPS,default:"1"},{opt:a.ECLOCK_SYNCING,default:"1"},{opt:a.DRIVE_SPEED,default:"1"},{opt:a.DRIVE_MECHANICS,default:"1"},{opt:a.OPT_LOCK_DSKSYNC,default:"0"},{opt:a.OPT_AUTO_DSKSYNC,default:"0"},{opt:a.CLX_SPR_SPR,default:"0"},{opt:a.CLX_SPR_PLF,default:"0"},{opt:a.CLX_PLF_PLF,default:"0"},{opt:a.ACCURATE_KEYBOARD,default:"1"}],T=[{opt:a.AUDVOL0,default:"100"},{opt:a.AUDVOL1,default:"100"},{opt:a.AUDVOL2,default:"100"},{opt:a.AUDVOL3,default:"100"},{opt:a.AUDVOLL,default:"50"},{opt:a.AUDVOLR,default:"50"},{opt:a.STEP_VOLUME,default:"50"},{opt:a.POLL_VOLUME,default:"50"},{opt:a.INSERT_VOLUME,default:"50"},{opt:a.EJECT_VOLUME,default:"50"}],m=[{opt:a.RENDER_MODE,default:Sr.smooth.toString()},{opt:a.FLICKER_WEIGHT,default:"0"},{opt:a.PALETTE,default:"0"},{opt:a.BRIGHTNESS,default:"50"},{opt:a.CONTRAST,default:"100"},{opt:a.SATURATION,default:"50"}],f=w.default,M=0,N=1,R=Sr.smooth,S=50;ya(()=>ge.opts.toArray()).subscribe(u=>{});async function A(){await h(),await y(),await k(),await le(),await fe()}async function h(){for(const u of O)await W(u.opt,u.default)}async function y(){for(const u of P)await W(u.opt,u.default)}async function k(){for(const u of l)await W(u.opt,u.default)}async function le(){for(const u of T)await W(u.opt,u.default)}async function fe(){for(const u of m)await W(u.opt,u.default)}async function W(u,c){try{await ge.opts.add({key:u,value:c})}catch{}}async function Ue(){await pe(),await Ee(),await Ce(),await Oe(),await Me()}async function pe(){for(const u of O)await F(u.opt);await h(),await ee()}async function Ee(){for(const u of P)await F(u.opt);await y(),await te()}async function Ce(){for(const u of l)await F(u.opt);await k(),await re()}async function Oe(){for(const u of T)await F(u.opt);await le(),await oe()}async function Me(){for(const u of m)await F(u.opt);await fe(),await ae()}async function F(u){try{const c=await ge.opts.delete(u)}catch{console.log("Failed to remove entry",u)}}async function De(){await ee(),await te(),await re(),await oe(),await ae()}async function ee(){for(const u of O)await B(u.opt)}async function te(){for(const u of P)await B(u.opt)}async function re(){for(const u of l)await B(u.opt)}async function oe(){for(const u of T)await B(u.opt)}async function ae(){for(const u of m)await B(u.opt)}async function B(u){try{const c=await ge.opts.get(u);q(u,c.value)}catch{}}async function we(){await Re(),await Pe(),await Te(),await Ae(),await be()}async function Re(){for(const u of O)await K(u.opt)}async function Pe(){for(const u of P)await K(u.opt)}async function Te(){for(const u of l)await K(u.opt)}async function Ae(){for(const u of T)await K(u.opt)}async function be(){for(const u of m)await K(u.opt)}async function K(u){const c=se(u);try{const Ne=await ge.opts.put({key:u,value:c})}catch{}}function se(u){switch(u){case a.THEME:return[f].toString();case a.CANVAS_BORDER:return M.toString();case a.SHAKING:return N.toString();case a.CPU_REVISION:return s.getConfig(t.OPT_CPU_REVISION).toString();case a.CPU_SPEED:return s.getConfig(t.OPT_CPU_OVERCLOCKING).toString();case a.WARP_MODE:return s.getConfig(t.OPT_WARP_MODE).toString();case a.AGNUS_REVISION:return s.getConfig(t.OPT_AGNUS_REVISION).toString();case a.DENISE_REVISION:return s.getConfig(t.OPT_DENISE_REVISION).toString();case a.RTC_MODEL:return s.getConfig(t.OPT_RTC_MODEL).toString();case a.CHIP_RAM:return s.getConfig(t.OPT_CHIP_RAM).toString();case a.SLOW_RAM:return s.getConfig(t.OPT_SLOW_RAM).toString();case a.FAST_RAM:return s.getConfig(t.OPT_FAST_RAM).toString();case a.BANK_MAP:return s.getConfig(t.OPT_BANKMAP).toString();case a.INIT_PATTERN:return s.getConfig(t.OPT_RAM_INIT_PATTERN).toString();case a.UNMAPPED:return s.getConfig(t.OPT_UNMAPPING_TYPE).toString();case a.SLOW_RAM_MIRROR:return s.getConfig(t.OPT_SLOW_RAM_MIRROR).toString();case a.SLOW_RAM_DELAY:return s.getConfig(t.OPT_SLOW_RAM_DELAY).toString();case a.DF0:return s.getDriveConfig(t.OPT_DRIVE_CONNECT,0).toString();case a.DF1:return s.getDriveConfig(t.OPT_DRIVE_CONNECT,1).toString();case a.DF2:return s.getDriveConfig(t.OPT_DRIVE_CONNECT,2).toString();case a.DF3:return s.getDriveConfig(t.OPT_DRIVE_CONNECT,3).toString();case a.HD0:return s.getDriveConfig(t.OPT_HDC_CONNECT,0).toString();case a.HD1:return s.getDriveConfig(t.OPT_HDC_CONNECT,1).toString();case a.HD2:return s.getDriveConfig(t.OPT_HDC_CONNECT,2).toString();case a.HD3:return s.getDriveConfig(t.OPT_HDC_CONNECT,3).toString();case a.BLITTER_ACCURACY:return s.getConfig(t.OPT_BLITTER_ACCURACY).toString();case a.TODBUG:return s.getConfig(t.OPT_TODBUG).toString();case a.PTR_DROPS:return s.getConfig(t.OPT_PTR_DROPS).toString();case a.ECLOCK_SYNCING:return s.getConfig(t.OPT_ECLOCK_SYNCING).toString();case a.DRIVE_SPEED:return s.getConfig(t.OPT_DRIVE_SPEED).toString();case a.DRIVE_MECHANICS:return s.getConfig(t.OPT_DRIVE_MECHANICS).toString();case a.OPT_LOCK_DSKSYNC:return s.getConfig(t.OPT_LOCK_DSKSYNC).toString();case a.OPT_AUTO_DSKSYNC:return s.getConfig(t.OPT_AUTO_DSKSYNC).toString();case a.CLX_SPR_SPR:return s.getConfig(t.OPT_CLX_SPR_SPR).toString();case a.CLX_SPR_PLF:return s.getConfig(t.OPT_CLX_SPR_PLF).toString();case a.CLX_PLF_PLF:return s.getConfig(t.OPT_CLX_PLF_PLF).toString();case a.ACCURATE_KEYBOARD:return s.getConfig(t.OPT_ACCURATE_KEYBOARD).toString();case a.SAMPLING_METHOD:return s.getConfig(t.OPT_SAMPLING_METHOD).toString();case a.FILTER_TYPE:return s.getConfig(t.OPT_FILTER_TYPE).toString();case a.AUDVOL0:return s.getDriveConfig(t.OPT_AUDVOL,0).toString();case a.AUDVOL1:return s.getDriveConfig(t.OPT_AUDVOL,1).toString();case a.AUDVOL2:return s.getDriveConfig(t.OPT_AUDVOL,2).toString();case a.AUDVOL3:return s.getDriveConfig(t.OPT_AUDVOL,3).toString();case a.AUDVOLL:return s.getConfig(t.OPT_AUDVOLL).toString();case a.AUDVOLR:return s.getConfig(t.OPT_AUDVOLR).toString();case a.STEP_VOLUME:return s.getDriveConfig(t.OPT_STEP_VOLUME,0).toString();case a.POLL_VOLUME:return s.getDriveConfig(t.OPT_POLL_VOLUME,0).toString();case a.INSERT_VOLUME:return s.getDriveConfig(t.OPT_INSERT_VOLUME,0).toString();case a.EJECT_VOLUME:return s.getDriveConfig(t.OPT_EJECT_VOLUME,0).toString();case a.RENDER_MODE:return R.toString();case a.PALETTE:return s.getConfig(t.OPT_PALETTE).toString();case a.BRIGHTNESS:return s.getConfig(t.OPT_BRIGHTNESS).toString();case a.CONTRAST:return s.getConfig(t.OPT_CONTRAST).toString();case a.SATURATION:return s.getConfig(t.OPT_SATURATION).toString();case a.FLICKER_WEIGHT:return S.toString();default:return console.warn("get: Invalid option: ",u),"???"}}function me(u){return Number(se(u))}function Ge(u){return me(u)!=0}function q(u,c){switch(u){case a.THEME:xe(Number(c));break;case a.CANVAS_BORDER:M=Number(c);break;case a.SHAKING:N=Number(c);break;case a.CPU_REVISION:s.configure(t.OPT_CPU_REVISION,Number(c));break;case a.CPU_SPEED:s.configure(t.OPT_CPU_OVERCLOCKING,Number(c));break;case a.WARP_MODE:s.configure(t.OPT_WARP_MODE,Number(c));break;case a.AGNUS_REVISION:s.configure(t.OPT_AGNUS_REVISION,Number(c));break;case a.DENISE_REVISION:s.configure(t.OPT_DENISE_REVISION,Number(c));break;case a.RTC_MODEL:s.configure(t.OPT_RTC_MODEL,Number(c));break;case a.CHIP_RAM:s.configure(t.OPT_CHIP_RAM,Number(c));break;case a.SLOW_RAM:s.configure(t.OPT_SLOW_RAM,Number(c));break;case a.FAST_RAM:s.configure(t.OPT_FAST_RAM,Number(c));break;case a.BANK_MAP:s.configure(t.OPT_BANKMAP,Number(c));break;case a.INIT_PATTERN:s.configure(t.OPT_RAM_INIT_PATTERN,Number(c));break;case a.UNMAPPED:s.configure(t.OPT_UNMAPPING_TYPE,Number(c));break;case a.SLOW_RAM_MIRROR:s.configure(t.OPT_SLOW_RAM_MIRROR,Number(c));break;case a.SLOW_RAM_DELAY:s.configure(t.OPT_SLOW_RAM_DELAY,Number(c));break;case a.DF0:break;case a.DF1:s.configureDrive(t.OPT_DRIVE_CONNECT,1,c),c==0&&s.configureDrive(t.OPT_DRIVE_CONNECT,2,0),c==0&&s.configureDrive(t.OPT_DRIVE_CONNECT,3,0);break;case a.DF2:c==1&&s.configureDrive(t.OPT_DRIVE_CONNECT,1,1),s.configureDrive(t.OPT_DRIVE_CONNECT,2,c),c==0&&s.configureDrive(t.OPT_DRIVE_CONNECT,3,0);break;case a.DF3:c==1&&s.configureDrive(t.OPT_DRIVE_CONNECT,1,1),c==1&&s.configureDrive(t.OPT_DRIVE_CONNECT,2,1),s.configureDrive(t.OPT_DRIVE_CONNECT,3,c);break;case a.HD0:s.configureDrive(t.OPT_HDC_CONNECT,0,c);break;case a.HD1:s.configureDrive(t.OPT_HDC_CONNECT,1,c);break;case a.HD2:s.configureDrive(t.OPT_HDC_CONNECT,2,c);break;case a.HD3:s.configureDrive(t.OPT_HDC_CONNECT,3,c);break;case a.BLITTER_ACCURACY:s.configure(t.OPT_BLITTER_ACCURACY,Number(c));break;case a.TODBUG:s.configure(t.OPT_TODBUG,Number(c));break;case a.PTR_DROPS:s.configure(t.OPT_PTR_DROPS,Number(c));break;case a.ECLOCK_SYNCING:s.configure(t.OPT_ECLOCK_SYNCING,Number(c));break;case a.DRIVE_SPEED:s.configure(t.OPT_DRIVE_SPEED,Number(c));break;case a.DRIVE_MECHANICS:s.configureDrive(t.OPT_DRIVE_MECHANICS,0,Number(c)),s.configureDrive(t.OPT_DRIVE_MECHANICS,1,Number(c)),s.configureDrive(t.OPT_DRIVE_MECHANICS,2,Number(c)),s.configureDrive(t.OPT_DRIVE_MECHANICS,3,Number(c));break;case a.OPT_LOCK_DSKSYNC:s.configure(t.OPT_LOCK_DSKSYNC,Number(c));break;case a.OPT_AUTO_DSKSYNC:s.configure(t.OPT_AUTO_DSKSYNC,Number(c));break;case a.CLX_SPR_SPR:s.configure(t.OPT_CLX_SPR_SPR,Number(c));break;case a.CLX_SPR_PLF:s.configure(t.OPT_CLX_SPR_PLF,Number(c));break;case a.CLX_PLF_PLF:s.configure(t.OPT_CLX_PLF_PLF,Number(c));break;case a.ACCURATE_KEYBOARD:s.configure(t.OPT_ACCURATE_KEYBOARD,Number(c));break;case a.SAMPLING_METHOD:s.configure(t.OPT_SAMPLING_METHOD,Number(c));break;case a.FILTER_TYPE:s.configure(t.OPT_FILTER_TYPE,Number(c));break;case a.AUDVOL0:s.configureDrive(t.OPT_AUDVOL,0,Number(c));break;case a.AUDVOL1:s.configureDrive(t.OPT_AUDVOL,1,Number(c));break;case a.AUDVOL2:s.configureDrive(t.OPT_AUDVOL,2,Number(c));break;case a.AUDVOL3:s.configureDrive(t.OPT_AUDVOL,3,Number(c));break;case a.AUDVOLL:s.configure(t.OPT_AUDVOLL,Number(c));break;case a.AUDVOLR:s.configure(t.OPT_AUDVOLR,Number(c));break;case a.STEP_VOLUME:s.configure(t.OPT_STEP_VOLUME,Number(c));break;case a.POLL_VOLUME:s.configure(t.OPT_POLL_VOLUME,Number(c));break;case a.INSERT_VOLUME:s.configure(t.OPT_INSERT_VOLUME,Number(c));break;case a.EJECT_VOLUME:s.configure(t.OPT_EJECT_VOLUME,Number(c));break;case a.RENDER_MODE:R=Number(c);break;case a.PALETTE:s.configure(t.OPT_PALETTE,Number(c));break;case a.BRIGHTNESS:s.configure(t.OPT_BRIGHTNESS,Number(c));break;case a.CONTRAST:s.configure(t.OPT_CONTRAST,Number(c));break;case a.SATURATION:s.configure(t.OPT_SATURATION,Number(c));break;case a.FLICKER_WEIGHT:S=Number(c);break;default:console.warn("set: Invalid option: ",u)}ze.set(C)}function Ve(u,c){q(u,c.toString())}function He(u,c){q(u,c?"true":"false")}function xe(u){f=u;let c="";switch(f){case w.default:c="mytheme",i(x,_=!0,_),i(H,g="invert",g);break;case w.light:c="light",i(x,_=!0,_),i(H,g="invert",g);break;case w.dark:c="dark",i(x,_=!0,_),i(H,g="invert",g);break;case w.coffee:c="coffee",i(x,_=!1,_),i(H,g="",g);break;case w.cupcake:c="cupcake",i(x,_=!1,_),i(H,g="",g);break;case w.forest:c="forest",i(x,_=!0,_),i(H,g="invert",g);break;case w.aqua:c="aqua",i(x,_=!1,_),i(H,g="",g);break;case w.garden:c="garden",i(x,_=!0,_),i(H,g="invert",g);break;case w.pastel:c="pastel",i(x,_=!1,_),i(H,g="",g);break;default:console.warn("Invalid theme")}document.querySelector("html").setAttribute("data-theme",c)}return o.$$.update=()=>{o.$$.dirty[0]&16777216&&D&&(A(),De())},[Ue,pe,Ee,Ce,Oe,Me,De,ee,te,re,oe,ae,we,Re,Pe,Te,Ae,be,se,me,Ge,q,Ve,He,D]}class Ba extends Ie{constructor(d){super(),he(this,d,Fa,null,ye,{restoreDefaults:0,restoreGeneralDefaults:1,restoreMachineDefaults:2,restoreCompatibilityDefaults:3,restoreAudioDefaults:4,restoreVideoDefaults:5,loadSettings:6,loadGeneralSettings:7,loadMachineSettings:8,loadCompatibilitySettings:9,loadAudioSettings:10,loadVideoSettings:11,saveSettings:12,saveGeneralSettings:13,saveMachineSettings:14,saveCompatibilitySettings:15,saveAudioSettings:16,saveVideoSettings:17,get:18,getNum:19,getBool:20,set:21,setNum:22,setBool:23},null,[-1,-1])}get restoreDefaults(){return this.$$.ctx[0]}get restoreGeneralDefaults(){return this.$$.ctx[1]}get restoreMachineDefaults(){return this.$$.ctx[2]}get restoreCompatibilityDefaults(){return this.$$.ctx[3]}get restoreAudioDefaults(){return this.$$.ctx[4]}get restoreVideoDefaults(){return this.$$.ctx[5]}get loadSettings(){return this.$$.ctx[6]}get loadGeneralSettings(){return this.$$.ctx[7]}get loadMachineSettings(){return this.$$.ctx[8]}get loadCompatibilitySettings(){return this.$$.ctx[9]}get loadAudioSettings(){return this.$$.ctx[10]}get loadVideoSettings(){return this.$$.ctx[11]}get saveSettings(){return this.$$.ctx[12]}get saveGeneralSettings(){return this.$$.ctx[13]}get saveMachineSettings(){return this.$$.ctx[14]}get saveCompatibilitySettings(){return this.$$.ctx[15]}get saveAudioSettings(){return this.$$.ctx[16]}get saveVideoSettings(){return this.$$.ctx[17]}get get(){return this.$$.ctx[18]}get getNum(){return this.$$.ctx[19]}get getBool(){return this.$$.ctx[20]}get set(){return this.$$.ctx[21]}get setNum(){return this.$$.ctx[22]}get setBool(){return this.$$.ctx[23]}}function Ka(o,d,r){let t,s,g,_,C;n(o,$,l=>r(2,t=l)),n(o,ar,l=>r(3,s=l)),n(o,Ua,l=>r(4,g=l)),n(o,sr,l=>r(5,_=l)),n(o,wa,l=>r(6,C=l));let{gamepads:D={}}=d;cr(()=>{window.addEventListener("gamepadconnected",l=>{r(0,D[l.gamepad.index]=l.gamepad,D)},!1),window.addEventListener("gamepaddisconnected",l=>{delete D[l.gamepad.index]},!1)});function O(){return C==tt.gamepad1||C==tt.gamepad2?_:g==tt.gamepad1||g==tt.gamepad2?s:null}function P(){var N,R,S,E,A,h,y,k;const l=navigator.getGamepads();if(l.length==0)return;const T=l[0];if(!T)return;const m=T.buttons[0].pressed,f=T.axes[0].valueOf(),M=T.axes[1].valueOf();m?(N=O())==null||N.trigger(t.PRESS_FIRE):(R=O())==null||R.trigger(t.RELEASE_FIRE),f<-.5?(S=O())==null||S.trigger(t.PULL_LEFT):f>.5?(E=O())==null||E.trigger(t.PULL_RIGHT):(A=O())==null||A.trigger(t.RELEASE_X),M<-.5?(h=O())==null||h.trigger(t.PULL_UP):M>.5?(y=O())==null||y.trigger(t.PULL_DOWN):(k=O())==null||k.trigger(t.RELEASE_Y)}return o.$$set=l=>{"gamepads"in l&&r(0,D=l.gamepads)},[D,P]}class Ya extends Ie{constructor(d){super(),he(this,d,Ka,null,ye,{gamepads:0,pollState:1})}get pollState(){return this.$$.ctx[1]}}function Ea(o){let d,r,t,s,g,_,C=o[3].ErrorCodeKey(o[1])+"",D,O,P,l,T,m;return{c(){d=_e("div"),r=_e("div"),t=_e("p"),s=ie("Emulator failure. Uncaught exception "),g=ie(o[1]),_=ie(" ("),D=ie(C),O=ie(")"),P=ot(),l=_e("p"),T=ie(o[4]),this.h()},l(f){d=Se(f,"DIV",{class:!0});var M=de(d);r=Se(M,"DIV",{class:!0});var N=de(r);t=Se(N,"P",{class:!0});var R=de(t);s=ce(R,"Emulator failure. Uncaught exception "),g=ce(R,o[1]),_=ce(R," ("),D=ce(R,C),O=ce(R,")"),R.forEach(I),P=at(N),l=Se(N,"P",{class:!0});var S=de(l);T=ce(S,o[4]),S.forEach(I),N.forEach(I),M.forEach(I),this.h()},h(){ue(t,"class","p-1"),ue(l,"class","p-1"),ue(r,"class","h-24 w-full border-none flex flex-col justify-center text-lg font-azeret text-center"),ue(d,"class",m="relative flex justify-center bg-black text-red-600 border-[10px] "+o[2])},m(f,M){v(f,d,M),U(d,r),U(r,t),U(t,s),U(t,g),U(t,_),U(t,D),U(t,O),U(r,P),U(r,l),U(l,T)},p(f,M){M&2&&er(g,f[1]),M&10&&C!==(C=f[3].ErrorCodeKey(f[1])+"")&&er(D,C),M&16&&er(T,f[4]),M&4&&m!==(m="relative flex justify-center bg-black text-red-600 border-[10px] "+f[2])&&ue(d,"class",m)},d(f){f&&I(d)}}}function ja(o){let d,r=o[0]&&Ea(o);return{c(){r&&r.c(),d=rt()},l(t){r&&r.l(t),d=rt()},m(t,s){r&&r.m(t,s),v(t,d,s)},p(t,[s]){t[0]?r?r.p(t,s):(r=Ea(t),r.c(),r.m(d.parentNode,d)):r&&(r.d(1),r=null)},i:_r,o:_r,d(t){r&&r.d(t),t&&I(d)}}}function Xa(o,d,r){let t,s,g,_,C,D;n(o,Ga,l=>r(1,g=l)),n(o,$,l=>r(7,_=l)),n(o,nr,l=>r(3,C=l)),n(o,Va,l=>r(4,D=l));let O=!1,P=!0;return o.$$.update=()=>{o.$$.dirty&128&&r(6,t=_!=null),o.$$.dirty&99&&g&&t&&!O&&(r(0,O=!0),setInterval(()=>{r(5,P=!P)},800)),o.$$.dirty&32&&r(2,s=P?"border-red-600":"border-black")},[O,g,s,C,D,P,t,_]}class za extends Ie{constructor(d){super(),he(this,d,Xa,ja,ye,{})}}function Ja(o,d,r){let t,s,g,_,C,D,O,P,l,T,m,f,M,N,R,S,E,A,h,y,k,le,fe,W,Ue,pe,Ee,Ce,Oe,Me,F,De,ee,te,re,oe,ae,B,we,Re,Pe,Te,Ae,be,K,se,me,Ge,q,Ve,He,xe,u,c,Ne,nt,it,ct,ut,gt,_t,St,dt,lt,ft,pt,Et,Ct,Ot,Mt,Dt,Rt,Pt,ne,Q,Z,Y,Tt,At,bt,mt,We,j,X,z,J,Nt,kt,Lt,It,ht,yt,L,Ut,Je,qe,wt,Gt,Qe,Vt,Ht,xt,Fe,Ze,Wt,Ft,Bt,Kt,Yt,G,jt,Xt,zt,Jt,qt,Qt,Zt,vt,Be;n(o,$,e=>r(10,t=e)),n(o,dr,e=>r(11,s=e)),n(o,lr,e=>r(12,g=e)),n(o,fr,e=>r(13,_=e)),n(o,pr,e=>r(14,C=e)),n(o,Er,e=>r(15,D=e)),n(o,Cr,e=>r(16,O=e)),n(o,Or,e=>r(17,P=e)),n(o,Mr,e=>r(18,l=e)),n(o,Dr,e=>r(19,T=e)),n(o,Rr,e=>r(20,m=e)),n(o,Pr,e=>r(21,f=e)),n(o,Tr,e=>r(22,M=e)),n(o,Ar,e=>r(23,N=e)),n(o,br,e=>r(24,R=e)),n(o,mr,e=>r(25,S=e)),n(o,Nr,e=>r(26,E=e)),n(o,kr,e=>r(27,A=e)),n(o,Lr,e=>r(28,h=e)),n(o,Ir,e=>r(29,y=e)),n(o,ir,e=>r(30,k=e)),n(o,hr,e=>r(31,le=e)),n(o,yr,e=>r(32,fe=e)),n(o,Ur,e=>r(33,W=e)),n(o,wr,e=>r(34,Ue=e)),n(o,Gr,e=>r(35,pe=e)),n(o,Vr,e=>r(36,Ee=e)),n(o,Hr,e=>r(37,Ce=e)),n(o,xr,e=>r(38,Oe=e)),n(o,Wr,e=>r(39,Me=e)),n(o,Fr,e=>r(40,F=e)),n(o,Br,e=>r(41,De=e)),n(o,Kr,e=>r(42,ee=e)),n(o,Yr,e=>r(43,te=e)),n(o,jr,e=>r(44,re=e)),n(o,Xr,e=>r(45,oe=e)),n(o,zr,e=>r(46,ae=e)),n(o,Jr,e=>r(47,B=e)),n(o,qr,e=>r(48,we=e)),n(o,Qr,e=>r(49,Re=e)),n(o,Zr,e=>r(50,Pe=e)),n(o,vr,e=>r(51,Te=e)),n(o,$r,e=>r(52,Ae=e)),n(o,eo,e=>r(53,be=e)),n(o,to,e=>r(54,K=e)),n(o,ro,e=>r(55,se=e)),n(o,oo,e=>r(56,me=e)),n(o,ao,e=>r(57,Ge=e)),n(o,so,e=>r(58,q=e)),n(o,no,e=>r(59,Ve=e)),n(o,io,e=>r(60,He=e)),n(o,co,e=>r(61,xe=e)),n(o,uo,e=>r(62,u=e)),n(o,go,e=>r(63,c=e)),n(o,_o,e=>r(64,Ne=e)),n(o,So,e=>r(65,nt=e)),n(o,lo,e=>r(66,it=e)),n(o,fo,e=>r(67,ct=e)),n(o,po,e=>r(68,ut=e)),n(o,Eo,e=>r(69,gt=e)),n(o,Co,e=>r(70,_t=e)),n(o,Oo,e=>r(71,St=e)),n(o,Mo,e=>r(72,dt=e)),n(o,Do,e=>r(73,lt=e)),n(o,Ro,e=>r(74,ft=e)),n(o,Po,e=>r(75,pt=e)),n(o,To,e=>r(76,Et=e)),n(o,Ao,e=>r(77,Ct=e)),n(o,bo,e=>r(78,Ot=e)),n(o,mo,e=>r(79,Mt=e)),n(o,No,e=>r(80,Dt=e)),n(o,ko,e=>r(81,Rt=e)),n(o,Lo,e=>r(82,Pt=e)),n(o,Io,e=>r(83,ne=e)),n(o,ho,e=>r(84,Q=e)),n(o,yo,e=>r(85,Z=e)),n(o,Uo,e=>r(86,Y=e)),n(o,wo,e=>r(87,Tt=e)),n(o,Go,e=>r(88,At=e)),n(o,Vo,e=>r(89,bt=e)),n(o,Ho,e=>r(90,mt=e)),n(o,tr,e=>r(91,We=e)),n(o,xo,e=>r(92,j=e)),n(o,Wo,e=>r(93,X=e)),n(o,Fo,e=>r(94,z=e)),n(o,Bo,e=>r(95,J=e)),n(o,Ko,e=>r(96,Nt=e)),n(o,Yo,e=>r(97,kt=e)),n(o,jo,e=>r(98,Lt=e)),n(o,Xo,e=>r(99,It=e)),n(o,zo,e=>r(100,ht=e)),n(o,Jo,e=>r(101,yt=e)),n(o,st,e=>r(102,L=e)),n(o,qo,e=>r(103,Ut=e)),n(o,Qo,e=>r(104,Je=e)),n(o,Zo,e=>r(105,qe=e)),n(o,vo,e=>r(106,wt=e)),n(o,$o,e=>r(107,Gt=e)),n(o,ze,e=>r(108,Qe=e)),n(o,ea,e=>r(109,Vt=e)),n(o,ta,e=>r(110,Ht=e)),n(o,ra,e=>r(111,xt=e)),n(o,oa,e=>r(112,Fe=e)),n(o,or,e=>r(113,Ze=e)),n(o,aa,e=>r(114,Wt=e)),n(o,sa,e=>r(115,Ft=e)),n(o,na,e=>r(116,Bt=e)),n(o,ia,e=>r(117,Kt=e)),n(o,ca,e=>r(118,Yt=e)),n(o,ua,e=>r(119,G=e)),n(o,ga,e=>r(120,jt=e)),n(o,ar,e=>r(121,Xt=e)),n(o,sr,e=>r(122,zt=e)),n(o,nr,e=>r(123,Jt=e)),n(o,_a,e=>r(124,qt=e)),n(o,Sa,e=>r(125,Qt=e)),n(o,da,e=>r(126,Zt=e)),n(o,la,e=>r(127,vt=e)),n(o,rr,e=>r(128,Be=e)),cr(()=>{console.log("Proxy: onMount()"),i($,t.processMsg=Aa,t)});async function Oa(e){await k.setup();try{console.log("Showcase:",e.title),L.powerOff(),console.log("Installing ROM:",e.roms),t.installRoms(e.roms),console.log("Configuring Chip RAM:",e.memory[0]),L.configure(t.OPT_CHIP_RAM,e.memory[0]),console.log("Configuring Slow RAM:",e.memory[1]),L.configure(t.OPT_SLOW_RAM,e.memory[1]),console.log("Configuring Fast RAM:",e.memory[2]),L.configure(t.OPT_FAST_RAM,e.memory[2]),console.log("Configuring drives:",e.adf.length),Qe.set(a.DF1,e.adf.length>1);for(let p=0;p<e.adf.length;p++)console.log("Inserting disk "+p+":",e.adf[p]),await ve(e.adf[p],p);console.log("Configuring warp mode: "+e.warp),Qe.set(a.WARP_MODE,e.warp),console.log("Launchine emulator..."),L.run(),e.title=="Absolute Inebriation"&&(console.log("Scheduling disk change (inebriation)"),L.setAlarmAbs(3e3,1)),e.title=="Eon"&&(console.log("Scheduling disk change (eon)"),L.setAlarmAbs(7600,2)),console.log("Done")}catch(p){throw console.log("CATCHED "+p),p}}function ur(){console.error("Exception "+L.errorCode()+": "+L.what())}async function ve(e,p){try{console.log("Fetching adf/"+e);let $t=await(await fetch("adf/"+e)).arrayBuffer(),gr=new Uint8Array($t);console.log("Calling $amiga.insertDisk",gr,p),L.insertDisk(gr,p),console.log("Disk inserted")}catch{ur()}}async function $e(e){if(e==0)return G.deleteRom(),G.deleteExt(),i(rr,Be=e,Be),!0;try{const p=await ge.roms.get(e);return p?(p!=null&&p.rom?(G.loadRom(p.rom,p.rom.length),i(rr,Be=e,Be)):G.deleteRom(),p!=null&&p.ext?G.loadExt(p.ext,p.ext.length):G.deleteExt(),!0):!1}catch{return!1}}async function Ma(e){for(const p of e)if(await $e(p))return!0;return!1}async function Da(e){let p=G.analyzeRom(e,e.byteLength);if(console.log("ROM analyzed: ",p),p.crc32){try{const V=p.title,$t=await ge.roms.add({crc32:p.crc32,title:p.title,version:p.version,released:p.released,model:p.model,isAros:p.isAros,isDiag:p.isDiag,isCommodore:p.isCommodore,isHyperion:p.isHyperion,isPatched:p.isPatched,isUnknown:p.isUnknown,rom:e,ext:null,extStart:0});console.log(`${V} successfully added with id ${$t}`)}catch{console.log("Failed to add Kickstart")}console.log("Opening Kickstart viewer"),i(la,vt=Ha.kickstart,vt)}}async function Ra(){await $e(fa.Aros)}async function Pa(){await $e(fa.DiagROM)}function Ta(){console.log("Creating proxies..."),i(da,Zt=new t.AgnusProxy,Zt),i(Sa,Qt=new t.CPUProxy,Qt),i(_a,qt=new t.DeniseProxy,qt),i(Bo,J=new t.DriveProxy(0),J),i(Fo,z=new t.DriveProxy(1),z),i(Wo,X=new t.DriveProxy(2),X),i(xo,j=new t.DriveProxy(3),j),i(oa,Fe=new t.DiskControllerProxy,Fe),i(nr,Jt=new t.EnumProxy,Jt),i(Uo,Y=new t.HardDriveProxy(0),Y),i(yo,Z=new t.HardDriveProxy(1),Z),i(ho,Q=new t.HardDriveProxy(2),Q),i(Io,ne=new t.HardDriveProxy(3),ne),i(sr,zt=new t.JoystickProxy(1),zt),i(ar,Xt=new t.JoystickProxy(2),Xt),i(ga,jt=new t.KeyboardProxy,jt),i(ua,G=new t.MemoryProxy,G),i(ca,Yt=new t.MouseProxy(1),Yt),i(ia,Kt=new t.MouseProxy(2),Kt),i(Zo,qe=new t.PaulaProxy,qe),i(na,Bt=new t.RetroShellProxy,Bt),i(st,L=new t.AmigaProxy,L),console.log("Launching the emulator..."),L.launch(),console.log("Configuring the emulator..."),L.configure(t.OPT_AGNUS_REVISION,t.AGNUS_ECS_2MB),i(sa,Ft={ArrowLeft:t.PULL_LEFT,ArrowRight:t.PULL_RIGHT,ArrowUp:t.PULL_UP,ArrowDown:t.PULL_DOWN,ControlRight:t.PRESS_FIRE,Space:t.PRESS_FIRE},Ft),i(aa,Wt={KeyS:t.PULL_LEFT,KeyD:t.PULL_RIGHT,KeyE:t.PULL_UP,KeyX:t.PULL_DOWN,KeyC:t.RELEASE_FIRE},Wt),(async()=>{console.log("Installing Roms...");const e=[3304125791,2798523958,3283989056,1062194186];t.installRoms(e),console.log("Initialization completed"),i(or,Ze=!0,Ze)})()}function b(){if(!Ze)return;const e=Fe.getState(),p=Fe.getSelected(),V=e==t.DRIVE_DMA_WRITE;i(ra,xt=L.poweredOn(),xt),i(ta,Ht=L.isRunning(),Ht),i(Qo,Je=L.isWarping(),Je),i(ea,Vt=Qe.getNum(a.WARP_MODE),Vt),i($o,Gt=L.isTracking(),Gt),i(vo,wt=qe.isMuted()||Je,wt),i(qo,Ut=L.isHalted(),Ut),i(tr,We=[J.isConnected(),z.isConnected(),X.isConnected(),j.isConnected()],We),i(Jo,yt=[J.hasDisk(),z.hasDisk(),X.hasDisk(),j.hasDisk()],yt),i(zo,ht=[J.motor(),z.motor(),X.motor(),j.motor()],ht),i(Xo,It=[p==0&&V,p==1&&V,p==2&&V,p==3&&V],It),i(jo,Lt=[J.hasModifiedDisk(),z.hasModifiedDisk(),X.hasModifiedDisk(),j.hasModifiedDisk()],Lt),i(Yo,kt=[J.hasProtectedDisk(),z.hasProtectedDisk(),X.hasProtectedDisk(),j.hasProtectedDisk()],kt),i(Ko,Nt=[J.currentCyl(),z.currentCyl(),X.currentCyl(),j.currentCyl()],Nt),i(tr,We=[Y.isConnected(),Y.isConnected(),Z.isConnected(),Q.isConnected()],We),i(Ho,mt=[Y.isConnected(),Z.isConnected(),Q.isConnected(),ne.isConnected()],mt),i(Vo,bt=[Y.currentCyl(),Z.currentCyl(),Q.currentCyl(),ne.currentCyl()],bt),i(Go,At=[Y.isReading(),Z.isReading(),Q.isReading(),ne.isReading()],At),i(wo,Tt=[Y.isWriting(),Z.isWriting(),Q.isWriting(),ne.isWriting()],Tt)}function Aa(e){let p=e.type;switch(e.value,p){case t.MSG_NONE:i(Lo,Pt++,Pt);break;case t.MSG_CONFIG:i(ko,Rt++,Rt);break;case t.MSG_POWER:i(No,Dt++,Dt),b();break;case t.MSG_RUN:i(mo,Mt++,Mt),b();break;case t.MSG_PAUSE:i(bo,Ot++,Ot),b();break;case t.MSG_STEP:i(Ao,Ct++,Ct);break;case t.MSG_RESET:i(To,Et++,Et),b();break;case t.MSG_SHUTDOWN:i(Po,pt++,pt);break;case t.MSG_ABORT:i(Ro,ft++,ft);break;case t.MSG_WARP:i(Do,lt++,lt),b();break;case t.MSG_TRACK:i(Mo,dt++,dt),b();break;case t.MSG_MUTE:i(Oo,St++,St),b();break;case t.MSG_POWER_LED_ON:i(Co,_t++,_t);break;case t.MSG_POWER_LED_DIM:i(Eo,gt++,gt);break;case t.MSG_POWER_LED_OFF:i(po,ut++,ut);break;case t.MSG_CONSOLE_CLOSE:i(fo,ct++,ct);break;case t.MSG_CONSOLE_UPDATE:i(lo,it++,it);break;case t.MSG_CONSOLE_DEBUGGER:i(So,nt++,nt);break;case t.MSG_SCRIPT_DONE:i(_o,Ne++,Ne);break;case t.MSG_SCRIPT_PAUSE:i(go,c++,c);break;case t.MSG_SCRIPT_ABORT:i(uo,u++,u);break;case t.MSG_SCRIPT_WAKEUP:i(co,xe++,xe);break;case t.MSG_VIDEO_FORMAT:i(io,He++,He);break;case t.MSG_OVERCLOCKING:i(no,Ve++,Ve);break;case t.MSG_BREAKPOINT_REACHED:i(so,q++,q);break;case t.MSG_BREAKPOINT_UPDATED:i(ao,Ge++,Ge);break;case t.MSG_WATCHPOINT_REACHED:i(oo,me++,me);break;case t.MSG_WATCHPOINT_UPDATED:i(ro,se++,se);break;case t.MSG_CATCHPOINT_REACHED:i(to,K++,K);break;case t.MSG_CATCHPOINT_UPDATED:i(eo,be++,be);break;case t.MSG_SWTRAP_REACHED:i($r,Ae++,Ae);break;case t.MSG_CPU_HALT:i(vr,Te++,Te),b();break;case t.MSG_COPPERBP_REACHED:i(Zr,Pe++,Pe);break;case t.MSG_COPPERBP_UPDATED:i(Qr,Re++,Re);break;case t.MSG_COPPERWP_REACHED:i(qr,we++,we);break;case t.MSG_COPPERWP_UPDATED:i(Jr,B++,B);break;case t.MSG_VIEWPORT:i(zr,ae++,ae);break;case t.MSG_MEM_LAYOUT:i(Xr,oe++,oe);break;case t.MSG_DRIVE_CONNECT:i(jr,re++,re),b();break;case t.MSG_DRIVE_SELECT:i(Yr,te++,te);break;case t.MSG_DRIVE_READ:i(Kr,ee++,ee);break;case t.MSG_DRIVE_WRITE:i(Br,De++,De),b();break;case t.MSG_DRIVE_LED:i(Fr,F++,F);break;case t.MSG_DRIVE_MOTOR:i(Wr,Me++,Me),b();break;case t.MSG_DRIVE_STEP:i(xr,Oe++,Oe),b(),k.playStepSound(e.drive.volume,e.drive.pan);break;case t.MSG_DRIVE_POLL:i(Hr,Ce++,Ce),b(),k.playStepSound(e.drive.volume,e.drive.pan);break;case t.MSG_DISK_INSERT:i(Vr,Ee++,Ee),b(),k.playInsertSound(e.drive.volume,e.drive.pan);break;case t.MSG_DISK_EJECT:i(Gr,pe++,pe),b(),k.playEjectSound(e.drive.volume,e.drive.pan);break;case t.MSG_DISK_PROTECTED:i(wr,Ue++,Ue),b();break;case t.MSG_HDC_CONNECT:i(Ur,W++,W),b();break;case t.MSG_HDC_STATE:i(yr,fe++,fe),b();break;case t.MSG_HDR_STEP:i(hr,le++,le),k.playClickSound(e.drive.volume,e.drive.pan);break;case t.MSG_HDR_READ:i(Ir,y++,y),b();break;case t.MSG_HDR_WRITE:i(Lr,h++,h),b();break;case t.MSG_HDR_IDLE:i(kr,A++,A),b();break;case t.MSG_CTRL_AMIGA_AMIGA:i(Nr,E++,E);break;case t.MSG_SHAKING:i(mr,S++,S);break;case t.MSG_SER_IN:i(br,R++,R);break;case t.MSG_SER_OUT:i(Ar,N++,N);break;case t.MSG_AUTO_SNAPSHOT_TAKEN:i(Tr,M++,M);break;case t.MSG_USER_SNAPSHOT_TAKEN:i(Pr,f++,f);break;case t.MSG_SNAPSHOT_RESTORED:i(Rr,m++,m),b();break;case t.MSG_RECORDING_STARTED:i(Dr,T++,T);break;case t.MSG_RECORDING_STOPPED:i(Mr,l++,l);break;case t.MSG_RECORDING_ABORTED:i(Or,P++,P);break;case t.MSG_DMA_DEBUG:i(Cr,O++,O),i(Er,D=e.value,D);break;case t.MSG_SRV_STATE:i(pr,C++,C);break;case t.MSG_SRV_RECEIVE:i(fr,_++,_);break;case t.MSG_SRV_SEND:i(lr,g++,g);break;case t.MSG_ALARM:i(dr,s++,s),console.log("Alarm received: ",e.value),e.value==1&&(console.log("Inserting disk 2..."),ve("AbsoluteInebriation2.adf",0)),e.value==2&&(console.log("Inserting disk 2..."),ve("Eon2.adf",0));break}}return[Oa,ur,ve,$e,Ma,Da,Ra,Pa,Ta,b]}class qa extends Ie{constructor(d){super(),he(this,d,Ja,null,ye,{runShowcase:0,reportException:1,insert:2,installRom:3,installRoms:4,addRom:5,installAros:6,installDiagRom:7,onRuntimeInitialized:8,updateStateVariables:9},null,[-1,-1,-1,-1,-1])}get runShowcase(){return this.$$.ctx[0]}get reportException(){return this.$$.ctx[1]}get insert(){return this.$$.ctx[2]}get installRom(){return this.$$.ctx[3]}get installRoms(){return this.$$.ctx[4]}get addRom(){return this.$$.ctx[5]}get installAros(){return this.$$.ctx[6]}get installDiagRom(){return this.$$.ctx[7]}get onRuntimeInitialized(){return this.$$.ctx[8]}get updateStateVariables(){return this.$$.ctx[9]}}function Ca(o){let d,r,t,s,g;return{c(){d=_e("script"),r=ie("console.log('Loading vAmiga.js');"),t=ot(),s=_e("script"),this.h()},l(_){d=Se(_,"SCRIPT",{});var C=de(d);r=ce(C,"console.log('Loading vAmiga.js');"),C.forEach(I),t=at(_),s=Se(_,"SCRIPT",{src:!0});var D=de(s);D.forEach(I),this.h()},h(){Ia(s.src,g="vAmiga.js")||ue(s,"src",g)},m(_,C){v(_,d,C),U(d,r),v(_,t,C),v(_,s,C)},d(_){_&&I(d),_&&I(t),_&&I(s)}}}function Qa(o){let d,r,t,s,g,_,C,D,O,P,l={};d=new Wa({props:l}),o[7](d);let T={};r=new Ba({props:T}),o[8](r);let m={};t=new Ya({props:m}),o[9](t);let f={};s=new qa({props:f}),o[10](s);let M=o[0]&&Ca();C=new za({});const N=o[6].default,R=ba(N,o,o[5],null);return{c(){Ke(d.$$.fragment),Ke(r.$$.fragment),Ke(t.$$.fragment),Ke(s.$$.fragment),M&&M.c(),g=rt(),_=ot(),Ke(C.$$.fragment),D=ot(),O=_e("div"),R&&R.c(),this.h()},l(S){const E=ma("svelte-1wfwfx3",document.head);Ye(d.$$.fragment,E),Ye(r.$$.fragment,E),Ye(t.$$.fragment,E),Ye(s.$$.fragment,E),M&&M.l(E),g=rt(),E.forEach(I),_=at(S),Ye(C.$$.fragment,S),D=at(S),O=Se(S,"DIV",{class:!0});var A=de(O);R&&R.l(A),A.forEach(I),this.h()},h(){ue(O,"class","relative")},m(S,E){je(d,document.head,null),je(r,document.head,null),je(t,document.head,null),je(s,document.head,null),M&&M.m(document.head,null),U(document.head,g),v(S,_,E),je(C,S,E),v(S,D,E),v(S,O,E),R&&R.m(O,null),P=!0},p(S,[E]){const A={};d.$set(A);const h={};r.$set(h);const y={};t.$set(y);const k={};s.$set(k),S[0]?M||(M=Ca(),M.c(),M.m(g.parentNode,g)):M&&(M.d(1),M=null),R&&R.p&&(!P||E&32)&&Na(R,N,S,S[5],P?La(N,S[5],E,null):ka(S[5]),null)},i(S){P||(ke(d.$$.fragment,S),ke(r.$$.fragment,S),ke(t.$$.fragment,S),ke(s.$$.fragment,S),ke(C.$$.fragment,S),ke(R,S),P=!0)},o(S){Le(d.$$.fragment,S),Le(r.$$.fragment,S),Le(t.$$.fragment,S),Le(s.$$.fragment,S),Le(C.$$.fragment,S),Le(R,S),P=!1},d(S){o[7](null),Xe(d),o[8](null),Xe(r),o[9](null),Xe(t),o[10](null),Xe(s),M&&M.d(S),I(g),S&&I(_),Xe(C,S),S&&I(D),S&&I(O),R&&R.d(S)}}}function Za(o,d,r){let t,s,g,_;n(o,$,f=>r(1,t=f)),n(o,ir,f=>r(2,s=f)),n(o,ze,f=>r(3,g=f)),n(o,pa,f=>r(4,_=f));let{$$slots:C={},$$scope:D}=d,O=!1;cr(()=>{console.log("+layout: onMount()"),window.Module=t,r(0,O=!0)});function P(f){et[f?"unshift":"push"](()=>{s=f,ir.set(s)})}function l(f){et[f?"unshift":"push"](()=>{g=f,ze.set(g)})}function T(f){et[f?"unshift":"push"](()=>{_=f,pa.set(_)})}function m(f){et[f?"unshift":"push"](()=>{t=f,$.set(t)})}return o.$$set=f=>{"$$scope"in f&&r(5,D=f.$$scope)},[O,t,s,g,_,D,C,P,l,T,m]}class es extends Ie{constructor(d){super(),he(this,d,Za,Qa,ye,{})}}export{es as default};
